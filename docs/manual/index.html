<%
local subfmt = "\t<li>%s</li>"

local Details = {
	Basics = table.concat({
		subfmt:format(link("Basics", "Declaring Classes"       , "#classes")),
		subfmt:format(link("Basics", "Creating Objects"        , "#objects")),
		subfmt:format(link("Basics", "Object Initialization"   , "#__init" )),
		subfmt:format(link("Basics", "Introspection Mechanisms", "#introsp")),
	}, "\n"),
	Models = table.concat({
		subfmt:format(link("Models", "base"    , "#base"    )),
		subfmt:format(link("Models", "simple"  , "#simple"  )),
		subfmt:format(link("Models", "multiple", "#multiple")),
		subfmt:format(link("Models", "cached"  , "#cached"  )),
		subfmt:format(link("Models", "scoped"  , "#scoped"  )),
	}, "\n"),
	Classes = table.concat({
		subfmt:format(link("Classes", "Class Changes"     , "#changed"   )),
		subfmt:format(link("Classes", "Class Invocations" , "#invoking"  )),
		subfmt:format(link("Classes", "Interoperability"  , "#interop"   )),
		subfmt:format(link("Classes", "Packaged Classes"  , "#packaged"  )),
		subfmt:format(link("Classes", "Super-Class Access", "#superclass")),
	}, "\n"),
	Components = table.concat({
		subfmt:format(link("Comps", "General Model"     , "#general"  )),
		subfmt:format(link("Comps", "Component Packages", "#packages" )),
		subfmt:format(link("Comps", "Port Interception" , "#intercept")),
		subfmt:format(link("Comps", "Dynamic Changes"   , "#dynamic"  )),
	}, "\n"),
}

local result = {}
local itmfmt = "<h3>%s</h3>"
for _, item in ipairs(item) do
	result[#result+1] = itmfmt:format(link(item.index))
	subitems = Details[item.index]
	if subitems then
		result[#result+1] = "<ol>"
		result[#result+1] = subitems
		result[#result+1] = "</ol>"
	else
		result[#result+1] = "<br>"
	end
	result[#result+1] = ""
end
return table.concat(result, '\n')
%>
